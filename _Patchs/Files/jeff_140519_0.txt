CREATE TABLE `cangku_common_chuku` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `kind` varchar(10) COLLATE utf8_bin NOT NULL COMMENT '出库类型，文字说明即可',
  `kuwei` varchar(10) COLLATE utf8_bin NOT NULL COMMENT '库位',
  `chukuDate` date NOT NULL COMMENT '出库日期',
  `depId` int(10) NOT NULL COMMENT '部门id',
  `jiagonghuId` int(11) NOT NULL COMMENT '加工户id',
  `lingliaoren` varchar(100) COLLATE utf8_bin NOT NULL COMMENT '领料人',
  `clientId` int(11) NOT NULL COMMENT '客户id,销售出库时用',
  `orderId` int(10) NOT NULL COMMENT '订单id',
  `supplierId` int(11) NOT NULL COMMENT '供应商id',
  `chukuCode` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '出库单号',
  `memo` varchar(200) COLLATE utf8_bin NOT NULL COMMENT '备注',
  `creater` varchar(10) COLLATE utf8_bin NOT NULL COMMENT '创建人',
  `dt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  PRIMARY KEY (`id`),
  KEY `chukuDate` (`chukuDate`) USING BTREE,
  KEY `supplierId` (`supplierId`) USING BTREE,
  KEY `kind` (`kind`),
  KEY `depId` (`depId`),
  KEY `kuwei` (`kuwei`),
  KEY `clientId` (`clientId`),
  KEY `jiagonghuId` (`jiagonghuId`)
) ENGINE=MyISAM AUTO_INCREMENT=44 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='通用出库主表';
CREATE TABLE `cangku_common_chuku2product` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `chukuId` int(10) NOT NULL COMMENT ' 出库id',
  `productId` int(10) NOT NULL COMMENT '原料产品id',
  `dengji` varchar(20) NOT NULL COMMENT '等级',
  `pihao` varchar(50) NOT NULL COMMENT '批号',
  `plan2proId` int(11) NOT NULL COMMENT '计划从表id',
  `ord2proId` int(11) NOT NULL COMMENT '订单明细id',
  `cnt` decimal(15,2) NOT NULL COMMENT '数量',
  `danjia` decimal(15,1) NOT NULL COMMENT '单价',
  `money` decimal(15,2) NOT NULL COMMENT '金额',
  `memo` varchar(100) NOT NULL COMMENT '备注',
  `dt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `chukuId` (`chukuId`),
  KEY `productId` (`productId`),
  KEY `pihao` (`pihao`),
  KEY `ord2proId` (`ord2proId`),
  KEY `plan2proId` (`plan2proId`),
  KEY `dengji` (`dengji`)
) ENGINE=MyISAM AUTO_INCREMENT=47 DEFAULT CHARSET=utf8 COMMENT='通用出库子表';
CREATE TABLE `cangku_common_kucun` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `dateFasheng` date DEFAULT NULL COMMENT '发生日期',
  `rukuId` int(11) NOT NULL COMMENT '入库表id',
  `chukuId` int(11) NOT NULL COMMENT '出库表id',
  `kind` varchar(10) NOT NULL COMMENT '出入库类型',
  `kuwei` varchar(10) NOT NULL COMMENT '库位',
  `pihao` varchar(50) NOT NULL COMMENT '批号',
  `supplierId` int(11) NOT NULL COMMENT '供应商id',
  `productId` int(11) NOT NULL COMMENT '原料id',
  `cntFasheng` decimal(15,2) NOT NULL COMMENT '发生数量,入库为+，出库为-',
  `danjiaFasheng` decimal(15,2) NOT NULL COMMENT '单价',
  `moneyFasheng` decimal(15,2) NOT NULL COMMENT '金额',
  PRIMARY KEY (`id`),
  KEY `dateFasheng` (`dateFasheng`),
  KEY `kind` (`kind`),
  KEY `kuwei` (`kuwei`),
  KEY `pihao` (`pihao`),
  KEY `supplierId` (`supplierId`),
  KEY `productId` (`productId`),
  KEY `cntFasheng` (`cntFasheng`)
) ENGINE=MyISAM AUTO_INCREMENT=144 DEFAULT CHARSET=utf8 COMMENT='通用库存表';
CREATE TABLE `cangku_common_ruku` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `kind` varchar(10) COLLATE utf8_bin NOT NULL COMMENT '入库类型文字说明即可',
  `kuwei` varchar(10) COLLATE utf8_bin NOT NULL COMMENT '库位，一般一笔记录只会有一个库位',
  `rukuCode` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '入库单号',
  `songhuoCode` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '送货编号',
  `supplierId` int(10) NOT NULL COMMENT '供应商ID',
  `rukuDate` date NOT NULL COMMENT '入库日期',
  `creater` varchar(10) COLLATE utf8_bin NOT NULL COMMENT '创建人',
  `dt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `memo` varchar(200) COLLATE utf8_bin NOT NULL COMMENT '备注',
  PRIMARY KEY (`id`),
  KEY `rukuCode` (`rukuCode`) USING BTREE,
  KEY `songhuCode` (`songhuoCode`) USING BTREE,
  KEY `supplierId` (`supplierId`) USING BTREE,
  KEY `rukuDate` (`rukuDate`) USING BTREE,
  KEY `kuwei` (`kuwei`),
  KEY `kind` (`kind`)
) ENGINE=MyISAM AUTO_INCREMENT=37 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='通用仓库入库主表';
CREATE TABLE `cangku_common_ruku2product` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `rukuId` int(10) NOT NULL COMMENT '入库Id',
  `productId` int(10) NOT NULL COMMENT '原料产品id',
  `pihao` varchar(50) NOT NULL COMMENT '批号',
  `plan2proId` int(11) NOT NULL COMMENT '计划明细id,半成品入库时需要指定计划明细',
  `cnt` decimal(15,2) NOT NULL COMMENT '数量',
  `danjia` decimal(15,1) NOT NULL COMMENT '单价',
  `money` decimal(15,2) NOT NULL COMMENT '金额',
  `memo` varchar(100) NOT NULL COMMENT '注释',
  `return4id` int(11) NOT NULL COMMENT '退库时相关入库id',
  `dt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `rukuId` (`rukuId`),
  KEY `productId` (`productId`),
  KEY `pihao` (`pihao`)
) ENGINE=MyISAM AUTO_INCREMENT=42 DEFAULT CHARSET=utf8 COMMENT='通用仓库入库从表';
CREATE TABLE `jichu_zhiji` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `zhijiCode` varchar(10) CHARACTER SET utf8 NOT NULL,
  `zhijiName` varchar(10) CHARACTER SET utf8 NOT NULL,
  `orderLine` smallint(3) NOT NULL COMMENT '排列顺序',
  `kind` varchar(10) COLLATE utf8_bin NOT NULL COMMENT '0喷气1剑杆2大剑杆3其他',
  `chejianId` int(10) NOT NULL COMMENT '所在车间',
  PRIMARY KEY (`id`),
  KEY `zhijiCode` (`zhijiCode`),
  KEY `zhijiName` (`zhijiName`),
  KEY `chejianId` (`chejianId`)
) ENGINE=MyISAM AUTO_INCREMENT=101 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='织机档案表';
CREATE TABLE `jichu_jiagonghu` (
  `id` int(10) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `compCode` varchar(40) COLLATE utf8_bin NOT NULL COMMENT '加工户编码',
  `compName` varchar(40) COLLATE utf8_bin NOT NULL COMMENT '加工户名称',
  `people` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '联系人',
  `tel` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '电话',
  `fax` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '传真',
  `mobile` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '手机',
  `accountId` varchar(40) COLLATE utf8_bin NOT NULL COMMENT '帐号',
  `taxId` varchar(40) COLLATE utf8_bin NOT NULL COMMENT '税号',
  `address` varchar(50) COLLATE utf8_bin NOT NULL COMMENT '地址',
  `memo` varchar(100) COLLATE utf8_bin NOT NULL COMMENT '备注',
  `comeFrom` char(10) COLLATE utf8_bin NOT NULL COMMENT '来源',
  PRIMARY KEY (`id`),
  UNIQUE KEY `compName` (`compName`),
  KEY `compCode` (`compCode`)
) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='加工户档案';
CREATE TABLE `shengchan_shangji` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `zhijiCode` varchar(20) NOT NULL COMMENT '织机编码',
  `plan2proId` int(11) NOT NULL COMMENT '计划明细表id,预留',
  `ord2proId` int(11) NOT NULL COMMENT '订单明细id',
  `yongsha` varchar(100) NOT NULL COMMENT '用纱',
  `dateShangji` date NOT NULL COMMENT '上机时间',
  `dateShangjiReal` date NOT NULL COMMENT '实际上机时间',
  `dateLiaojiReal` date NOT NULL COMMENT '实际了机时间',
  `yaoqiu` varchar(200) NOT NULL COMMENT '要求',
  `state` smallint(1) NOT NULL COMMENT '0未上机1生产中2已了机',
  PRIMARY KEY (`id`),
  KEY `zhijiCode` (`zhijiCode`),
  KEY `ord2proId` (`ord2proId`),
  KEY `dateShangji` (`dateShangji`),
  KEY `dateShangjiReal` (`dateShangjiReal`),
  KEY `dateLiaojiReal` (`dateLiaojiReal`),
  KEY `state` (`state`)
) ENGINE=MyISAM AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 COMMENT='上机表';